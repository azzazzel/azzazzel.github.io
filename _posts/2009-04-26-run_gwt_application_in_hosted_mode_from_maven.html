---
layout: post
title: Run GWT application in "hosted mode" from maven
date: '2009-04-26 12:39:35 +0200'
mt_id: 8
blog_id: 1
post_id: 8
basename: run_gwt_application_in_hosted_mode_from_maven
categories:
- tips_and_tricks
---
<p>It seems to get more and more <a href="http://www.infoworld.com/d/cloud-computing/nick-carr-many-ways-cloud-computing-will-disrupt-it-798">cloudy</a> in the IT world  these days . It's a matter of time before the rain (of applications) starts. When this happen one will need the proper tools, to be able to add his/hers own few drops.</p><p>So I though it's about time to start experimenting with <a href="http://code.google.com/webtoolkit/">Google Web Toolkit</a>. What I like the most about GWT is it's &quot;hosted mode&quot;. The fact that Java code changes reflect the GUI right away and one don't have to wait for generate, compile, build, deploy, ... steps to complete is really speeding up the development process.<br /> <br /> Since 99% of my projects use <a href="http://maven.apache.org/">Maven</a> the first thing to look for (after reading GWT tutorials) was a GWT maven plug-in. No surprise here - there is one (<a href="http://mojo.codehaus.org/gwt-maven-plugin">http://mojo.codehaus.org/gwt-maven-plugin</a>). The <a href="http://code.google.com/webtoolkit/gettingstarted.html">GWT docs</a> and <a href="http://mojo.codehaus.org/gwt-maven-plugin/1.1-SNAPSHOT/">gwt-maven-plugin docs</a> gives a lot of information how to create and build GWT applications.&nbsp; Unfortunately the released version of&nbsp; gwt-maven-plugin (1.0 at the time of writing) does not support hosted mode.</p>

<!--more-->

<p>The solution is to use the snapshot repository<br /> <code class="blockWhite"> &nbsp;&nbsp;&nbsp; &lt;pluginRepository&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;id&gt;mojo-snapshots&lt;/id&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;url&gt;http://snapshots.repository.codehaus.org&lt;/url&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/pluginRepository&gt;<br /> </code>  and the 1.1-SNAPSHOT version :<br /> <code class="blockWhite"> &nbsp;&nbsp;&nbsp; &lt;pluginManagement&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;plugins&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;plugin&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/plugin&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/plugins&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/pluginManagement&gt;<br /> </code> If the application only contains client code it can be then run in &quot;hosted mode&quot; by simply typing <code>mvn gwt:run</code>. The thing docs don't mention (again, at the time of writing this) is that &quot;mvn gwt:run&quot; will not build the server side of the application. Unless you do this yourself GWT-RPC call will not work. So there are three possible ways:</p> <ol>     <li>let the Eclipse (or whatever IDE you use) build the classes in <code>${basedir}/src/main/webapp/WEB-INF/classes</code><br />     <br />     I personally don't like this approach. It does not solve the problem if you have multiple modules in maven as the dependent libraries will be still missing. Also you have to add some rules to your SCM system to ignore generated classes. <br />     <br />     &nbsp;</li>     <li>do <code>mvn compile war:inplace gwt:run</code><br />     <br />     This will create extracted version of the war in &quot;${basedir}/src/main/webapp&quot;. It will solve the problem even for multiple modules setup but you still will have to deal with the SCM ignore rules.<br />     &nbsp;</li>     <li>do <code>mvn compile war:exploded gwt:run</code> <br />     <br />     This will create extracted version of the WAR in a specified directory (by default it is <code>${project.build.directory}/${project.build.finalName}</code> as stated in <a href="http://maven.apache.org/plugins/maven-war-plugin/exploded-mojo.html#webappDirectory">Maven WAR Plugin docs</a>). In order for this to work the <code>gwt-maven-plugin</code> needs to be told where the exploded war is by adding this to it's configuration in pom.xml : <br />     <code class="blockWhite">      &nbsp;&nbsp;&nbsp; &lt;hostedWebapp&gt;<br />     &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ${project.build.directory}/${project.build.finalName}<br />     &nbsp;&nbsp;&nbsp; &lt;/hostedWebapp&gt;<br />     </code>      This IMHO is the best approach. Solves the problem even in case of multiple modules and your SCM managed folders remain clean.</li> </ol>
